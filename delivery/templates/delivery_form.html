<!DOCTYPE html>
<html>
<head>
    <title>Create Delivery</title>
</head>
<body>
    <h1>Create Delivery</h1>
    <form id="delivery-form">
        <input name="produce" placeholder="Produce ID" required><br>
        <input name="buyer" placeholder="Buyer ID" required><br>
        <input name="transporter" placeholder="Transporter ID" required><br>
        <input name="pickup_location" placeholder="Pickup Location" required><br>
        <input name="destination" placeholder="Destination" required><br>
        <button type="submit">Submit</button>
    </form>

    <script>
    document.getElementById('delivery-form').addEventListener('submit', function(e) {
        e.preventDefault();
        const formData = new FormData(e.target);
        const payload = {};
        formData.forEach((val, key) => payload[key] = val);

        fetch('/api/deliveries/', {
            method: 'POST',
            headers: {
                'Authorization': 'Token YOUR_AUTH_TOKEN',
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(payload)
        })
        .then(res => res.json())
        .then(data => alert('Delivery created!'))
        .catch(err => console.error(err));
    });
    </script>
</body>
</html>
